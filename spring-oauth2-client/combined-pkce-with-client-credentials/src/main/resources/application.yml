spring:
  security:
    oauth2:
      client:
        registration:
          keycloak:
            provider: keycloak
            client-id: spring-test
            authorization-grant-type: authorization_code

            # __pkce__ scope is not sent to the authorization server
            # It is just a hacky indicator to support both PKCE and client authentication at the same time
            scope: openid,profile,email,__pkce__
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            client-name: Keycloak

            # Can also be client_secret_post
            client-authentication-method: client_secret_basic

            # Set environment variable from the secret generated by KeyCloak
            client-secret: "${KEYCLOAK_CLIENT_SECRET}"
        provider:
          keycloak:
            issuer-uri: http://localhost:8181/realms/master